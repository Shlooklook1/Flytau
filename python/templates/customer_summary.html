{% extends "base.html" %}
{% block content %}

<div align="center">
    {% if error_msg %}
    <p class="error-message">{{ error_msg }}</p>
    <br>
    <form action="/seat_select" method="get">
        <input type="submit" value="Try Again" class="submit-button">
    </form>
    {% else %}

    <h1>Summary</h1>
    <h3 style="margin-top: 5px;">Order ID: {{ order_id }}</h3>

    <table border="1" cellpadding="5" style="border-collapse: collapse; margin-bottom: 30px;">
        <tr>
            <th> </th>
            <th>Origin</th>
            <th>Destination</th>
            <th>Departure Date</th>
            <th>Departure Time</th>
            <th>Arrival Date</th>
            <th>Arrival Time</th>
            <th>Duration</th>
            <th>Plane ID</th>
            <th>Class</th>
            <th>Seat</th>
            <th>Price</th>
        </tr>
        {% for ticket in range(tickets|length) %}
        <tr>
            <td>{{ ticket + 1 }}</td>
            <td>{{ origin }}</td>
            <td>{{ destination }}</td>
            <td>{{ departure_date }}</td>
            <td>{{ departure_time }}</td>
            <td>{{ arrival_date }}</td>
            <td>{{ arrival_time }}</td>
            <td>{{ duration/60 }}</td>
            <td>{{ plane_id }}</td>
            <td>{{ tickets[ticket][1] }}</td>
            <td>{{ tickets[ticket][0] }}</td>
            {% if tickets[ticket][1] == 'Economy' %}
            <td>{{ economy_price }}</td>
            {% else %}
            <td>{{ business_price }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
    <h2>
        Total price: {{ total_price }}
    </h2>
</div>

<div style="display: flex; gap: 20px; justify-content: center; margin-top: 20px;">

    <button onclick="window.location.href = '/finalize_customer'" style="padding: 10px 20px; background-color: #58aa5c; color: white;
    border: none; cursor: pointer;">Confirm</button>

</div>

{% endif %}
{% endblock %}